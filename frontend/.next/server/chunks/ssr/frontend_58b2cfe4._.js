module.exports=[69355,a=>{"use strict";let b=(0,a.i(22638).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],69355)},37637,a=>{"use strict";let b=(0,a.i(22638).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],37637)},57039,a=>{"use strict";let b=(0,a.i(22638).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],57039)},54588,a=>{"use strict";function b(){try{let a=new(window.AudioContext||window.webkitAudioContext),b=a.currentTime,c=a.createOscillator(),d=a.createGain();c.connect(d),d.connect(a.destination),c.frequency.setValueAtTime(1200,b),c.frequency.exponentialRampToValueAtTime(800,b+.05),d.gain.setValueAtTime(.3,b),d.gain.exponentialRampToValueAtTime(.001,b+.1),c.start(b),c.stop(b+.1);let e=a.createOscillator(),f=a.createGain();e.connect(f),f.connect(a.destination),e.type="sine",e.frequency.setValueAtTime(2e3,b+.08),e.frequency.exponentialRampToValueAtTime(3e3,b+.12),e.frequency.exponentialRampToValueAtTime(2500,b+.5),f.gain.setValueAtTime(1e-4,b+.08),f.gain.linearRampToValueAtTime(.25,b+.12),f.gain.exponentialRampToValueAtTime(.001,b+.6),e.start(b+.08),e.stop(b+.6);let g=a.createOscillator(),h=a.createGain();g.connect(h),h.connect(a.destination),g.type="sine",g.frequency.setValueAtTime(4e3,b+.1),g.frequency.exponentialRampToValueAtTime(5e3,b+.15),h.gain.setValueAtTime(1e-4,b+.1),h.gain.linearRampToValueAtTime(.1,b+.15),h.gain.exponentialRampToValueAtTime(.001,b+.4),g.start(b+.1),g.stop(b+.4),setTimeout(()=>a.close(),1e3)}catch(a){console.warn("Audio not supported:",a)}}a.s(["playKaChing",()=>b])},11425,a=>{"use strict";var b=a.i(57850);let c=(0,a.i(22638).default)("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);function d({amount:a,setAmount:d}){let e=()=>{a.length<=1?d("0"):d(a.slice(0,-1))};return(0,b.jsx)("div",{className:"grid grid-cols-3 gap-y-8 gap-x-12 max-w-xs mx-auto mt-8",children:["1","2","3","4","5","6","7","8","9",".","0","delete"].map(f=>"delete"===f?(0,b.jsx)("button",{onClick:e,className:"flex items-center justify-center p-6 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(c,{className:"w-8 h-8"})},f):(0,b.jsx)("button",{onClick:()=>(b=>{if("."===b)a.includes(".")||d(a+".");else{if(a.includes(".")&&a.split(".")[1].length>=2)return;"0"===a?d(b):d(a+b)}})(f),className:"text-3xl font-bold p-4 hover:bg-cashapp/10 rounded-full transition-all",children:f},f))})}a.s(["default",()=>d],11425)},24940,a=>{"use strict";for(var b=a.i(57850),c=a.i(45056),d=a.i(82313),e=a.i(93609),f=a.i(11425),g=a.i(75038),h=a.i(47802),i=a.i(37637),j=a.i(69355),k=a.i(26330),l=a.i(54799),m=[],n=0;n<256;++n)m[n]=(n+256).toString(16).substr(1);let o=function(a,b){var c=b||0;return""+m[a[c++]]+m[a[c++]]+m[a[c++]]+m[a[c++]]+"-"+m[a[c++]]+m[a[c++]]+"-"+m[a[c++]]+m[a[c++]]+"-"+m[a[c++]]+m[a[c++]]+"-"+m[a[c++]]+m[a[c++]]+m[a[c++]]+m[a[c++]]+m[a[c++]]+m[a[c++]]},p=function(a,b,c){var d=b&&c||0;"string"==typeof a&&(b="binary"===a?Array(16):null,a=null);var e=(a=a||{}).random||(a.rng||function(){return l.default.randomBytes(16)})();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,b)for(var f=0;f<16;++f)b[d+f]=e[f];return b||o(e)};var q=a.i(54588),r=a.i(57855);function s(){let{user:a}=(0,d.useAuth)(),l=(0,e.useRouter)(),[m,n]=(0,c.useState)("0"),[o,s]=(0,c.useState)(1),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)("pay"),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),N=(0,c.useRef)(null),O=function(a,b=300){let[d,e]=(0,c.useState)(a);return(0,c.useEffect)(()=>{let c=setTimeout(()=>e(a),b);return()=>clearTimeout(c)},[a,b]),d}(t,300);(0,c.useEffect)(()=>{let a=new URLSearchParams(window.location.search),b=a.get("mode"),c=a.get("cashtag");"request"===b&&y("request"),c&&u(c.startsWith("$")?c:`$${c}`)},[]),(0,c.useEffect)(()=>{let a=O.replace(/^\$/,"").trim();if(a.length<1){G([]),K(!1);return}K(!0),(async()=>{I(!0);try{let{data:b}=await g.default.get(`/users/search?q=${encodeURIComponent(a)}`);G(b.data?.users||[])}catch(a){console.error("Search failed")}finally{I(!1)}})()},[O]);let P=a=>{parseFloat(m)>0&&(y(a),s(2))},Q=async()=>{A(!0),E("");try{let a=Math.round(100*parseFloat(m)),b=p(),c={cashtag:t.startsWith("$")?t:`$${t}`,amount:a,note:v||("request"===x?"Request from FlowCash":"Sent via FlowCash")};await g.default.post("request"===x?"/transfer/request":"/transfer/send",c,{headers:{"X-Idempotency-Key":b}}),C(!0),(0,q.playKaChing)(),setTimeout(()=>l.push("/"),2e3)}catch(a){E(a.response?.data?.message||"Transaction failed")}finally{A(!1)}};return B?(0,b.jsxs)("div",{className:`flex flex-col items-center justify-center min-h-screen ${"request"===x?"bg-zinc-900":"bg-cashapp"} text-white animate-in fade-in zoom-in duration-300`,children:[(0,b.jsx)(k.CheckCircle2,{className:"w-24 h-24 mb-6 animate-bounce"}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"request"===x?"Requested!":"Sent!"}),(0,b.jsxs)("p",{className:"mt-2 text-white/80",children:["$",parseFloat(m).toFixed(2)," ","request"===x?"from":"to"," ",t]})]}):(0,b.jsxs)("div",{className:"flex flex-col min-h-screen bg-white dark:bg-black p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("button",{onClick:()=>1===o?l.back():s(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full transition-all",children:(0,b.jsx)(h.X,{className:"w-8 h-8"})}),2===o&&(0,b.jsx)("div",{className:"flex-1 text-center",children:(0,b.jsxs)("p",{className:"text-cashapp font-bold text-xl",children:["$",parseFloat(m).toFixed(2)]})}),(0,b.jsx)("div",{className:"w-10"})]}),1===o?(0,b.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center",children:[(0,b.jsx)("div",{className:"text-center mb-8",children:(0,b.jsxs)("span",{className:"text-7xl font-bold tracking-tighter",children:[(0,b.jsx)("span",{className:"text-cashapp opacity-50 mr-2",children:"$"}),"0"===m?"0":m]})}),(0,b.jsx)(f.default,{amount:m,setAmount:n}),(0,b.jsxs)("div",{className:"flex space-x-4 mt-auto w-full max-w-xs pb-8",children:[(0,b.jsx)("button",{onClick:()=>P("pay"),disabled:0>=parseFloat(m),className:"flex-1 bg-cashapp text-white font-bold py-5 rounded-full shadow-lg shadow-cashapp/20 hover:scale-105 active:scale-95 transition-all disabled:opacity-30",children:"Pay"}),(0,b.jsx)("button",{onClick:()=>P("request"),disabled:0>=parseFloat(m),className:"flex-1 bg-gray-50 dark:bg-zinc-900 border border-gray-100 dark:border-zinc-800 font-bold py-5 rounded-full hover:scale-105 active:scale-95 transition-all disabled:opacity-30",children:"Request"})]})]}):(0,b.jsxs)("div",{className:"flex-1 flex flex-col animate-in slide-in-from-right duration-300",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-2 block",children:"To"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-50 dark:bg-zinc-900 p-4 rounded-2xl border border-transparent focus-within:border-cashapp transition-all",children:[(0,b.jsx)("span",{className:"text-cashapp font-bold text-lg",children:"$"}),(0,b.jsx)("input",{autoFocus:!0,className:"bg-transparent outline-none flex-1 font-bold text-lg",placeholder:"Search name or cashtag",value:t.replace(/^\$/,""),onChange:a=>u(a.target.value),onFocus:()=>t.replace(/^\$/,"").length>0&&K(!0)}),H?(0,b.jsx)(j.Loader2,{className:"w-5 h-5 text-cashapp animate-spin"}):(0,b.jsx)(i.Search,{className:"w-5 h-5 text-gray-500"})]}),J&&F.length>0&&(0,b.jsx)("div",{className:"absolute left-0 right-0 top-full mt-2 bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-xl z-20 max-h-60 overflow-y-auto",children:F.map(a=>(0,b.jsxs)("button",{onClick:()=>{u(a.cashtag),K(!1),G([])},className:"w-full flex items-center space-x-4 p-4 hover:bg-gray-50 dark:hover:bg-zinc-800 transition-all first:rounded-t-2xl last:rounded-b-2xl",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-cashapp/10 rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-cashapp font-bold text-sm",children:a.full_name?.charAt(0)?.toUpperCase()||"?"})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"font-bold text-sm",children:a.full_name}),(0,b.jsx)("p",{className:"text-xs text-cashapp",children:a.cashtag})]})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-2 block",children:"For"}),(0,b.jsx)("input",{className:"w-full bg-gray-50 dark:bg-zinc-900 p-4 rounded-2xl outline-none border border-transparent focus:border-cashapp transition-all font-medium",placeholder:"Add a note",value:v,onChange:a=>w(a.target.value)})]}),D&&(0,b.jsx)("p",{className:"text-red-500 text-sm font-medium",children:D})]}),(0,b.jsx)("button",{disabled:!t||z,onClick:()=>{N.current=Q,M(!0)},className:`mt-auto ${"request"===x?"bg-zinc-100 text-black shadow-zinc-200/20":"bg-cashapp text-white shadow-cashapp/20"} font-bold py-5 rounded-full flex items-center justify-center space-x-2 disabled:opacity-50 transition-all hover:scale-[1.02] active:scale-95 shadow-lg mb-8`,children:z?(0,b.jsx)(j.Loader2,{className:"w-6 h-6 animate-spin"}):(0,b.jsxs)("span",{children:["request"===x?"Request":"Pay"," $",parseFloat(m).toFixed(2)]})})]}),(0,b.jsx)(r.default,{isOpen:L,onSuccess:()=>{M(!1),N.current&&(N.current(),N.current=null)},onClose:()=>{M(!1),N.current=null},userId:a?.id})]})}a.s(["default",()=>s],24940)}];

//# sourceMappingURL=frontend_58b2cfe4._.js.map