module.exports=[1395,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactServerDOMTurbopackClient},69355,a=>{"use strict";let b=(0,a.i(22638).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],69355)},72481,a=>{"use strict";let b=(0,a.i(22638).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],72481)},78807,a=>{"use strict";let b=(0,a.i(22638).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);a.s(["Clock",()=>b],78807)},37637,a=>{"use strict";let b=(0,a.i(22638).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],37637)},1193,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(82313),e=a.i(93609),f=a.i(40151),g=a.i(75038),h=a.i(37637),i=a.i(22638);let j=(0,i.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var k=a.i(78807),l=a.i(69355);let m=(0,i.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var n=a.i(47802);function o(){let{user:a,loading:i}=(0,d.useAuth)(),o=(0,e.useRouter)(),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),z=(0,c.useRef)(null),A=(0,c.useRef)(null);(0,c.useEffect)(()=>{i||a||o.push("/login")},[a,i]),(0,c.useEffect)(()=>{if(a){let b=localStorage.getItem(`fc_favorites_${a.id}`);b&&w(JSON.parse(b)),B()}},[a]);let B=async()=>{try{let{data:b}=await g.default.get("/transfer/history?limit=20"),c=b.data?.transactions||[],d=new Set,e=[];c.forEach(b=>{let c=b.sender_id===a.id,f=c?b.receiver_id:b.sender_id,g=c?b.receiver_name:b.sender_name,h=c?b.receiver_cashtag:b.sender_cashtag;d.has(f)||f===a.id||(d.add(f),e.push({id:f,full_name:g,cashtag:h}))}),y(e.slice(0,8))}catch(a){console.error("Failed to load recent contacts")}};(0,c.useEffect)(()=>{let a=p.trim();return a.length<1?void s([]):(z.current&&clearTimeout(z.current),z.current=setTimeout(async()=>{u(!0);try{let{data:b}=await g.default.get(`/users/search?q=${encodeURIComponent(a)}`);s(b.data?.users||[])}catch(a){console.error("Search failed")}finally{u(!1)}},300),()=>clearTimeout(z.current))},[p]);let C=a=>{o.push(`/pay?cashtag=${encodeURIComponent(a)}`)};if(i||!a)return null;let D=({person:c,showFavStar:d=!0})=>{let e;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-zinc-900 rounded-2xl hover:bg-gray-100 dark:hover:bg-zinc-800 transition-all",children:[(0,b.jsxs)("button",{onClick:()=>C(c.cashtag),className:"flex items-center space-x-4 flex-1 text-left",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-cashapp/10 rounded-full flex items-center justify-center shrink-0",children:(0,b.jsx)("span",{className:"text-cashapp font-bold text-lg",children:c.full_name?.charAt(0)?.toUpperCase()||"?"})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"font-bold text-sm truncate",children:c.full_name}),(0,b.jsx)("p",{className:"text-xs text-cashapp",children:c.cashtag})]})]}),d&&(0,b.jsx)("button",{onClick:b=>{let d;b.stopPropagation(),w(d=v.find(a=>a.id===c.id)?v.filter(a=>a.id!==c.id):[...v,{id:c.id,full_name:c.full_name,cashtag:c.cashtag}]),localStorage.setItem(`fc_favorites_${a.id}`,JSON.stringify(d))},className:"p-2 hover:bg-gray-200 dark:hover:bg-zinc-700 rounded-full transition-all ml-2",children:(0,b.jsx)(j,{className:`w-5 h-5 ${(e=c.id,v.some(a=>a.id===e))?"fill-amber-400 text-amber-400":"text-gray-300"}`})})]})};return(0,b.jsxs)("div",{className:"pb-24 pt-8 px-6 min-h-screen bg-white dark:bg-black",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 bg-gray-50 dark:bg-zinc-900 p-4 rounded-2xl border border-transparent focus-within:border-cashapp transition-all mb-6",children:[(0,b.jsx)(h.Search,{className:"w-5 h-5 text-gray-400 shrink-0"}),(0,b.jsx)("input",{ref:A,autoFocus:!0,className:"bg-transparent outline-none flex-1 font-medium",placeholder:"Search people by name or $cashtag",value:p,onChange:a=>q(a.target.value)}),p&&(0,b.jsx)("button",{onClick:()=>q(""),className:"p-1",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-gray-400"})}),t&&(0,b.jsx)(l.Loader2,{className:"w-5 h-5 text-cashapp animate-spin shrink-0"})]}),p.trim().length>0?(0,b.jsx)("div",{className:"space-y-3",children:r.length>0?r.map(a=>(0,b.jsx)(D,{person:a},a.id)):t?null:(0,b.jsxs)("div",{className:"flex flex-col items-center py-16 text-gray-500",children:[(0,b.jsx)(h.Search,{className:"w-12 h-12 mb-4 opacity-20"}),(0,b.jsxs)("p",{className:"font-medium",children:['No users found for "',p,'"']})]})}):(0,b.jsxs)(b.Fragment,{children:[v.length>0&&(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-3 flex items-center space-x-2",children:[(0,b.jsx)(j,{className:"w-3 h-3 fill-amber-400 text-amber-400"}),(0,b.jsx)("span",{children:"Favorites"})]}),(0,b.jsx)("div",{className:"flex space-x-4 overflow-x-auto no-scrollbar pb-2",children:v.map(a=>(0,b.jsxs)("button",{onClick:()=>C(a.cashtag),className:"flex flex-col items-center space-y-2 min-w-[72px] group",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-cashapp/10 rounded-full flex items-center justify-center border-2 border-amber-400/30 group-hover:border-amber-400 transition-all group-active:scale-90",children:(0,b.jsx)("span",{className:"text-cashapp font-bold text-lg",children:a.full_name?.charAt(0)?.toUpperCase()||"?"})}),(0,b.jsx)("p",{className:"text-xs font-bold text-center truncate w-full",children:a.full_name?.split(" ")[0]})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-3 flex items-center space-x-2",children:[(0,b.jsx)(k.Clock,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Recent"})]}),(0,b.jsx)("div",{className:"space-y-3",children:x.length>0?x.map(a=>(0,b.jsx)(D,{person:a},a.id)):(0,b.jsxs)("div",{className:"flex flex-col items-center py-16 text-gray-500",children:[(0,b.jsx)(m,{className:"w-12 h-12 mb-4 opacity-20"}),(0,b.jsx)("p",{className:"font-medium",children:"No recent contacts yet"}),(0,b.jsx)("p",{className:"text-xs mt-1",children:"Send or receive money to see people here"})]})})]})]}),(0,b.jsx)(f.default,{})]})}a.s(["default",()=>o],1193)}];

//# sourceMappingURL=frontend_bab3f37f._.js.map