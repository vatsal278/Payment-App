module.exports=[55931,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(82313),e=a.i(93609),f=a.i(40151),g=a.i(71810),h=a.i(37637),i=a.i(69355),j=a.i(75038),k=a.i(71936),l=a.i(71444);let m=["1D","1W","1M","1Y","ALL"];function n(){let{user:a,loading:n}=(0,d.useAuth)(),o=(0,e.useRouter)(),[p,q]=(0,c.useState)("stocks"),[r,s]=(0,c.useState)("1D"),[t,u]=(0,c.useState)(0),[v,w]=(0,c.useState)(0),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(0),[F,G]=(0,c.useState)(0),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)(!0);(0,c.useEffect)(()=>{n||a||o.push("/login")},[a,n,o]);let N=(0,c.useCallback)(async()=>{C(!0);try{var a,b;let[c,d,e]=await Promise.all([j.default.get("/trading/positions"),j.default.get(`/trading/portfolio/history?period=${(a=r,"1D"===a?"1D":"1W"===a?"1W":"1M"===a?"1M":"1Y"===a?"1A":"all")}&timeframe=${(b=r,"1D"===b?"5Min":"1W"===b?"15Min":"1M"===b?"1H":"1D")}`),j.default.get("/trading/orders?limit=30&status=all")]),f=c.data.data||[],g=f.filter(a=>!a.symbol.includes("/")&&"crypto"!==a.asset_class).reduce((a,b)=>a+b.market_value,0),h=f.filter(a=>!a.symbol.includes("/")&&"crypto"!==a.asset_class).reduce((a,b)=>a+parseFloat(b.cost_basis||0),0);u(g),w(h);let i=(d.data.data.equity||[]).filter(a=>null!==a);y(i);let k=e.data.data||[];A(k.filter(a=>!a.symbol.includes("/")&&"crypto"!==a.asset_class))}catch(a){console.error("Failed to fetch stocks investing data",a)}finally{C(!1)}},[r]),O=(0,c.useCallback)(async()=>{M(!0);try{let[a,b,c,d]=await Promise.all([j.default.get("/trading/positions"),j.default.get("/trading/crypto/bars/BTC/USD",{params:function(a){let b,c,d,e=new Date;switch(a){case"1D":default:(b=new Date(e)).setDate(e.getDate()-1),c="15Min",d=96;break;case"1W":(b=new Date(e)).setDate(e.getDate()-7),c="1Hour",d=168;break;case"1M":(b=new Date(e)).setMonth(e.getMonth()-1),c="1Day",d=30;break;case"1Y":(b=new Date(e)).setFullYear(e.getFullYear()-1),c="1Day",d=365;break;case"ALL":(b=new Date(e)).setFullYear(e.getFullYear()-5),c="1Week",d=260}return{timeframe:c,start:b.toISOString(),limit:d}}(r)}),j.default.get("/trading/orders?limit=30&status=all"),j.default.get("/transfer/history?limit=30")]),e=a.data.data||[],f=e.filter(a=>"crypto"===a.asset_class||a.symbol.includes("/")).reduce((a,b)=>a+b.market_value,0),g=e.filter(a=>"crypto"===a.asset_class||a.symbol.includes("/")).reduce((a,b)=>a+parseFloat(b.cost_basis||0),0);E(f),G(g);let h=b.data.data.bars||[];I(h.map(a=>parseFloat(a.c)));let i=(c.data.data||[]).filter(a=>a.symbol?.includes("/")||"crypto"===a.asset_class),k=(d.data?.data?.transactions||[]).filter(a=>"bitcoin_send"===a.type).map(a=>({...a,symbol:"BTC"})),l=[...i,...k].sort((a,b)=>new Date(b.created_at||b.submitted_at||b.filled_at)-new Date(a.created_at||a.submitted_at||a.filled_at));K(l)}catch(a){console.error("Failed to fetch crypto data",a)}finally{M(!1)}},[r]);if((0,c.useEffect)(()=>{a&&("stocks"===p?N():O())},[a,p,r,N,O]),n||!a)return null;let P="stocks"===p,Q=P?"#00d632":"#F7931A",R=P?t:D,S=P?v:F,T=R-S,U=P?x:H,V=P?z:J,W=P?B:L,X=0,Y=0;if(U.length>0){let a=U[0],b=U[U.length-1];a>0&&(X=(Y=b-a)/a*100)}let Z=X>=0;return(0,b.jsxs)("div",{className:"min-h-screen bg-white dark:bg-black pb-24",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 pb-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Investing"}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("button",{onClick:()=>o.push("/search"),className:"p-2 -mr-2 text-gray-800 dark:text-gray-200",children:(0,b.jsx)(h.Search,{className:"w-6 h-6",style:{color:Q}})}),(0,b.jsx)("button",{className:"w-8 h-8 bg-cashapp/10 rounded-full flex items-center justify-center border border-transparent font-bold text-xs",style:{color:Q},children:(a.fullName||a.full_name||"?").charAt(0).toUpperCase()})]})]}),(0,b.jsxs)("div",{className:"mx-6 mt-4 mb-8 bg-gray-50 dark:bg-zinc-900 p-1 rounded-full flex overflow-hidden",children:[(0,b.jsx)("button",{onClick:()=>q("stocks"),className:`flex-1 py-2.5 rounded-full font-bold text-sm transition-all ${P?"bg-white dark:bg-zinc-800 shadow-sm text-cashapp":"text-gray-500 hover:text-gray-700"}`,children:"Stocks"}),(0,b.jsx)("button",{onClick:()=>q("crypto"),className:`flex-1 py-2.5 rounded-full font-bold text-sm transition-all ${!P?"bg-white dark:bg-zinc-800 shadow-sm text-[#F7931A]":"text-gray-500 hover:text-gray-700"}`,children:"Crypto"})]}),(0,b.jsxs)("div",{className:"px-6 text-center mt-6",children:[(0,b.jsxs)("h2",{className:"text-5xl font-bold tracking-tight mb-2",children:["$",R.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-1 font-bold text-sm",style:{color:Q},children:[(0,b.jsxs)("span",{children:[Z?"+":"-"," $",Math.abs(Y).toFixed(2)]}),(0,b.jsxs)("span",{className:"mx-1",children:[Z?"â†‘":"â†“"," ",Math.abs(X).toFixed(2),"%"]}),(0,b.jsx)("span",{children:"Today"})]})]}),(0,b.jsx)("div",{className:"mt-8 px-2 relative h-[250px]",children:W?(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)(i.Loader2,{className:"w-8 h-8 animate-spin text-gray-300"})}):U.length>0?(0,b.jsx)(g.default,{data:U,color:Q,height:250}):(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500 text-sm",children:"No data available"})}),(0,b.jsx)("div",{className:"flex justify-center space-x-2 px-6 mt-4 mb-8",children:m.map(a=>(0,b.jsx)("button",{onClick:()=>s(a),className:`w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all ${r===a?"bg-gray-100 dark:bg-zinc-800 text-black dark:text-white":"text-gray-400 hover:text-gray-600"}`,children:a},a))}),(0,b.jsxs)("div",{className:"mx-6 mb-8 bg-gray-50 dark:bg-zinc-900 rounded-3xl p-6 border border-gray-100 dark:border-zinc-800/60 shadow-sm relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100",children:"My Investments"}),(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-white dark:bg-black/50 flex items-center justify-center shadow-sm",children:(0,b.jsx)("span",{className:"text-gray-400",children:"â€¢â€¢â€¢"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[(0,b.jsxs)("div",{children:[W?(0,b.jsx)("div",{className:"h-6 w-24 bg-gray-200 dark:bg-zinc-800 animate-pulse rounded mb-2"}):(0,b.jsxs)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$",S.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-500",children:"Total Invested"})]}),(0,b.jsxs)("div",{children:[W?(0,b.jsx)("div",{className:"h-6 w-24 bg-gray-200 dark:bg-zinc-800 animate-pulse rounded mb-2"}):(0,b.jsxs)("p",{className:`text-xl font-bold ${T>0?"text-cashapp":T<0?"text-red-500":"text-gray-500"}`,children:[T>=0?"+":"","$",Math.abs(T).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-500",children:"Total Gain"})]})]})]}),(0,b.jsx)("div",{className:"px-6 space-y-4",children:P?(0,b.jsxs)("button",{onClick:()=>o.push("/stocks"),className:"w-full bg-gray-50 dark:bg-zinc-900 rounded-2xl p-5 flex items-center justify-between group hover:bg-gray-100 dark:hover:bg-zinc-800 transition-all font-bold",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("span",{className:"text-xl",children:"ðŸ“ˆ"}),(0,b.jsx)("span",{children:"Discover Stocks"})]}),(0,b.jsx)("span",{className:"text-gray-400 group-hover:text-cashapp transition-colors",children:"Buy"})]}):(0,b.jsxs)("button",{onClick:()=>o.push("/crypto"),className:"w-full bg-gray-50 dark:bg-zinc-900 rounded-2xl p-5 flex items-center justify-between group hover:bg-gray-100 dark:hover:bg-zinc-800 transition-all font-bold",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("span",{className:"text-xl text-[#F7931A]",children:"â‚¿"}),(0,b.jsx)("span",{children:"Explore Crypto"})]}),(0,b.jsx)("span",{className:"text-gray-400 group-hover:text-[#F7931A] transition-colors",children:"Buy / Sell"})]})}),V.length>0&&(0,b.jsxs)("div",{className:"px-6 mt-8 mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100",children:"Activity"}),(0,b.jsx)("button",{onClick:()=>o.push("/activity?filter=investing"),className:"px-4 py-1.5 bg-gray-100 dark:bg-zinc-800 rounded-full text-xs font-bold text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-zinc-700 transition-all",children:"See All"})]}),(0,b.jsx)("div",{className:"space-y-4",children:V.slice(0,5).map(c=>{let d=parseFloat(c.filled_avg_price||0)*parseFloat(c.filled_qty||0)||parseFloat(c.notional)||parseFloat(c.amount)/100||0,e="bitcoin_send"===c.type,f=e&&c.receiver_id===a.id,g=!e&&"buy"===c.side,h=e||"crypto"===c.asset_class||c.symbol?.includes("/"),i=e?"BTC":h?c.symbol.split("/")[0]:c.symbol,j=new Date(c.filled_at||c.submitted_at||c.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric"}),m=h?k.CRYPTOS.find(a=>a.symbol.startsWith(i)||a.alpacaSymbol===c.symbol):k.STOCKS.find(a=>a.symbol===c.symbol),n=g?"Bought":"Sold";e&&(n=f?"Received":"Sent");let p=e?f:!g,q="";!e&&Number(c.filled_qty)>0&&(q=Number(c.filled_qty).toLocaleString(void 0,{maximumFractionDigits:h?6:4})+" ");let r=`${n} ${q}${i}`;return e&&(r=`${n} Bitcoin`,c.note&&c.note.match(/^[\d.]+ BTC/)&&(r=`${n} ${c.note.split(" ")[0]} ${i}`)),(0,b.jsxs)("button",{onClick:()=>o.push(`/activity/detail?id=${c.id}`),className:"w-full flex items-center justify-between group hover:bg-gray-50 dark:hover:bg-zinc-900 p-2 -mx-2 rounded-xl transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(l.default,{assetInfo:m,symbol:i,textClass:g||f?"text-cashapp":"text-red-500"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:r}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 font-medium capitalize",children:[c.status," â€¢ ",j]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:["$",d.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,b.jsxs)("p",{className:`text-xs font-bold ${p?"text-cashapp":"text-gray-400"}`,children:[p?"+":"-","$",d.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},c.id)})})]}),P&&(0,b.jsxs)("div",{className:"px-6 space-y-6 mt-2 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-zinc-900 rounded-3xl p-6 border border-gray-100 dark:border-zinc-800/60 shadow-sm relative overflow-hidden",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 mb-2",children:"Most Traded Monthly"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-6 leading-relaxed hidden sm:block",children:"These stocks were bought and sold more over the last 30 days than any other stocks available on Cash App."}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-6 leading-relaxed sm:hidden",children:"These stocks were bought and sold more over the last 30 days than any other stocks available."}),(0,b.jsx)("div",{className:"space-y-4",children:["V","NVDA","NFLX"].map(a=>{let c=k.STOCKS.find(b=>b.symbol===a);return c?(0,b.jsxs)("div",{className:"flex justify-between items-center cursor-pointer group hover:bg-white dark:hover:bg-zinc-800 p-2 -mx-2 rounded-xl transition-all",onClick:()=>o.push(`/stocks/detail?symbol=${c.symbol}`),children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(l.default,{assetInfo:c,symbol:c.symbol,size:"w-10 h-10",textClass:"text-cashapp"}),(0,b.jsx)("p",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:c.name})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("p",{className:"text-xs font-bold text-cashapp",children:["â†‘ ",(2*Math.random()).toFixed(2),"%"]})})]},c.symbol):null})}),(0,b.jsxs)("div",{className:"flex justify-center mt-6 space-x-1.5",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-black dark:bg-white"})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-zinc-900 rounded-3xl p-6 border border-gray-100 dark:border-zinc-800/60 shadow-sm relative overflow-hidden",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 mb-2",children:"Biggest Daily Movers"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-6 leading-relaxed",children:"These companies gained or lost the most value today of any stock on Cash App."}),(0,b.jsx)("div",{className:"space-y-4",children:["TSLA","AAPL","META"].map(a=>{let c=k.STOCKS.find(b=>b.symbol===a);if(!c)return null;let d=Math.random()>.5;return(0,b.jsxs)("div",{className:"flex justify-between items-center cursor-pointer group hover:bg-white dark:hover:bg-zinc-800 p-2 -mx-2 rounded-xl transition-all",onClick:()=>o.push(`/stocks/detail?symbol=${c.symbol}`),children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(l.default,{assetInfo:c,symbol:c.symbol,size:"w-10 h-10",textClass:d?"text-cashapp":"text-red-500"}),(0,b.jsx)("p",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:c.name})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("p",{className:`text-xs font-bold ${d?"text-cashapp":"text-red-500"}`,children:[d?"â†‘":"â†“"," ",(5*Math.random()).toFixed(2),"%"]})})]},c.symbol)})}),(0,b.jsxs)("div",{className:"flex justify-center mt-6 space-x-1.5",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-black dark:bg-white"}),(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"})]})]})]}),(0,b.jsx)(f.default,{})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=frontend_app_investing_page_bd234152.js.map